#import "std/print"

main :: fn () s32 {
<<<<<<< HEAD
	print("%\n", 01);
	print("%\n", 0666);
	print("%\n", -01);
	print("%\n", -0666);
=======

	fw :: new_filewatch() catch panic($);
	defer delete_filewatch(fw);

	watch_changes(fw, "/Users/a-martin.dorazil/Develop/test") catch panic($);
	watch_changes(fw, "/Users/a-martin.dorazil/Develop/test/foo.txt") catch panic($);
	// watch_changes(fw, "C:/develop/test") catch panic($);
	// watch_changes(fw, #file) catch panic($);
	// watch_changes(fw, "C:/develop/test/file.txt") catch panic($);

	loop {
		event: WatchEvent;
		loop poll_file_changes(fw, &event) {
			print_log("Event: %", event);
		}
		os_sleep_ms(16);
	}
>>>>>>> master

	return 0;
}
