<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="styles.css">
<link rel="icon" type="image/x-icon" href="favicon.png">
</head>
<body>
<div class="container">
<div class="column" id="column1">
<div class="logo">
<img src="biscuit_logo.svg">
<label class="version">master</label>
</div>
<ul id="menu-top-level">
<li id="menu-top-level-item"><a href="index.html">Home</a></li>
<li id="menu-top-level-item"><a href="installation.html">Installation</a></li>
<li id="menu-top-level-item"><a href="manual.html">Manual</a></li>
<li id="menu-top-level-item"><a href="modules.html">Modules</a></li>
<li id="menu-top-level-item"><a href="examples.html">Examples</a></li>
</ul>
</div>
<div class="column" id="column2">
<h1 id="Dynamic-Arrays">Dynamic Arrays</h1>
<p>Compile using <code>blc my-file-name.bl</code> and run <code>./out</code>.</p>

<pre><code><span class="syntax-comment">// First of all we must load API functions for dynamic array. The #load hash</span>
<span class="syntax-comment">// directive can be used to "include" other source files.</span>
<span class="syntax-directive">#import</span> "std/array"

main :: <span class="syntax-keyword">fn</span> () s32 <span class="syntax-keyword">{</span>
	<span class="syntax-comment">// Now we create new dynamic array to store numbers. No heap alloacation </span>
	<span class="syntax-comment">// is done here, we only specify element type of the array. As it's with </span>
	<span class="syntax-comment">// regular static arrays or slices, we can access the element count via </span>
	<span class="syntax-comment">// .len and allocated memory block via .ptr member. Compared to static</span>
	<span class="syntax-comment">// arrays, there is additional member .allocated telling us how many</span>
	<span class="syntax-comment">// elements could array handle till next allocation is needed.</span>
	nums: [..]s32;

	<span class="syntax-comment">// Fill the dynamic array with some values.</span>
	<span class="syntax-keyword">loop</span> i := 0; i &lt; 100; i += 1 <span class="syntax-keyword">{</span>
		<span class="syntax-comment">// To append new value at the end of the array we can use 'array_push'</span>
		<span class="syntax-comment">// function.</span>
		array_push(&nums, i);

		<span class="syntax-comment">// We can push only numbers of s32 type into the array (based on</span>
		<span class="syntax-comment">// declaration type), you can try to push something else and see what</span>
		<span class="syntax-comment">// happens.</span>
	<span class="syntax-keyword">}</span>

	<span class="syntax-comment">// Dynamic arrays can be printed as usual...</span>
	print("nums = %\n", nums);

	<span class="syntax-comment">// We can use [N] operator to access single array elements like this:</span>
	print("nums[10] = %\n", nums[10]);
	print("nums[20] = %\n", nums[20]);

	<span class="syntax-comment">// Since dynamic array will allocate memory on heap, we must free this</span>
	<span class="syntax-comment">// memory by 'array_terminate' call when array is no longer needed.</span>
	array_terminate(&nums);

	<span class="syntax-comment">// There is lot of other ways to modify dynamic array content, check out</span>
	<span class="syntax-comment">// API documentation.</span>

	<span class="syntax-keyword">return</span> 0;
<span class="syntax-keyword">}</span>

</code></pre>
</div>
<div class="column" id="column3">
<ul id="menu-top-level">
<li id="menu-top-level-item"><a href="#Dynamic-Arrays">Dynamic Arrays</a></li>
</ul>
</div>
</div>
</body>
</html>
